<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZARO REAL ESTATE | Ø´Ù‚Ù‚ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>

    <style>
        :root { --gold: #d4af37; --dark: #1a1a1a; --white: #fff; --gray: #f4f7f6; --red-support: #ff4d4d; }
        body { margin: 0; font-family: 'Cairo', sans-serif; background: var(--gray); color: var(--dark); }
        
        /* Navbar */
        nav { background: var(--dark); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; border-bottom: 3px solid var(--gold); }
        .logo { font-size: 22px; font-weight: 800; color: var(--gold); text-decoration: none; }
        .nav-btn { background: var(--gold); border: none; padding: 8px 18px; border-radius: 6px; cursor: pointer; font-weight: bold; }

        /* Hero */
        .hero { height: 350px; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200'); background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; text-align: center; }
        .hero h1 { font-size: 32px; margin-bottom: 10px; }

        /* Grid */
        .container { padding: 40px 5%; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s; position: relative; }
        .card:hover { transform: translateY(-10px); }
        .card img { width: 100%; height: 220px; object-fit: cover; }
        .card-body { padding: 20px; }
        .city-tag { background: var(--dark); color: white; padding: 3px 10px; border-radius: 4px; font-size: 12px; margin-bottom: 10px; display: inline-block; }

        /* Support Badge Animation */
        .support-badge { background: linear-gradient(45deg, #ff0000, #ff5f6d); color: white; padding: 6px 15px; border-radius: 50px; font-size: 14px; font-weight: bold; display: inline-block; animation: pulse 2s infinite; box-shadow: 0 0 10px rgba(255, 77, 77, 0.5); }
        @keyframes pulse { 0% { transform: scale(0.95); } 70% { transform: scale(1); } 100% { transform: scale(0.95); } }

        /* Details Page */
        #detailsPage { display: none; position: fixed; inset: 0; background: white; z-index: 5000; overflow-y: auto; }
        .feature-highlight { border: 2px dashed var(--gold); padding: 15px; background: #fffdf5; border-radius: 10px; margin: 20px 0; }
        .main-btn { background: var(--dark); color: white; border: none; width: 100%; padding: 15px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 18px; margin-top: 15px; }

        /* Modals */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; padding: 25px; border-radius: 15px; width: 100%; max-width: 400px; position: relative; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; font-family: 'Cairo'; }

        .wa-float { position: fixed; bottom: 25px; left: 25px; background: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 1000; text-decoration: none; }
    </style>
</head>
<body>

<nav>
    <a href="#" class="logo">AZARO REAL ESTATE</a>
    <div id="auth-ui">
        <button class="nav-btn" onclick="openModal('authModal')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </div>
</nav>

<section class="hero">
    <div>
        <h1>Ø´Ù‚Ù‚ ÙØ§Ø®Ø±Ø© $93$Ù…Â² ØªØ¯Ø¹Ù… Ø§Ù„Ø³ÙƒÙ†</h1>
        <p>Ø§Ù„Ø­Ø§Ø¬Ø¨ â€¢ ÙØ§Ø³ â€¢ Ø³ÙŠØ¯ÙŠ Ù‚Ø§Ø³Ù… â€¢ ØªØ§ÙˆØ¬Ø·Ø§Øª</p>
    </div>
</section>

<div class="container" id="property-list"></div>

<div id="detailsPage">
    <div style="padding:15px; border-bottom:1px solid #eee;"><button onclick="closeDetails()" style="border:none; background:none; font-size:20px; cursor:pointer;">âœ• Ø¹ÙˆØ¯Ø©</button></div>
    <div id="detailsContent" style="max-width:800px; margin:0 auto; padding:20px;"></div>
</div>

<div class="modal" id="authModal">
    <div class="modal-content">
        <h3 style="margin-top:0;">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
        <input type="text" id="regName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="email" id="regEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        <input type="password" id="regPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <input type="tel" id="regPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <button class="main-btn" style="background:var(--gold); color:black;" onclick="handleSignup()">ØªØ£ÙƒÙŠØ¯ ÙˆØ§Ù†Ø¶Ù…Ø§Ù…</button>
    </div>
</div>

<a href="https://wa.me/21269985826" class="wa-float"><i class="fab fa-whatsapp"></i></a>

<script>
    // 1. Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Ø¶Ø¹ÙŠ Ù…ÙØ§ØªÙŠØ­Ùƒ Ù‡Ù†Ø§)
    Parse.initialize("TU8wdbgmuKMHpGp76QmMBIV2281RD6IVhg0NE4uS", "3AhKkYYWl0LVZWJQujXoVgSS5qaX76aod3qVBtFK");
    Parse.serverURL = 'https://parseapi.back4app.com/';
    const DISCORD_WEBHOOK = "https://discord.com/api/webhooks/1465111327482708105/rrFvR8ThqXCp28WtaopCTPj8BRRHUzwfd92IbiECYK3B1n4qwy5qiKhHGGVY-A3GhPdN";

    // 2. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ©
    const properties = [
        { id: 1, city: "Ø§Ù„Ø­Ø§Ø¬Ø¨", name: "Ø´Ù‚Ø© Ø§Ù„Ù†ÙˆØ± - Ø§Ù„Ø­Ø§Ø¬Ø¨", price: "460,000", size: "93 Ù…Â²", rooms: 3, baths: 2, kitchen: "Ù…Ø¬Ù‡Ø²Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„", img: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800", desc: "Ø´Ù‚Ø© Ø±Ø§Ø¦Ø¹Ø© ÙÙŠ Ù‚Ù„Ø¨ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø­Ø§Ø¬Ø¨ØŒ Ù…Ø³Ø§Ø­Ø© 93 Ù…ØªØ±ØŒ ØªØªÙƒÙˆÙ† Ù…Ù† 3 ØºØ±Ù ÙˆØ§Ø³Ø¹Ø©ØŒ 2 Ø­Ù…Ø§Ù…Ø§ØªØŒ ÙˆÙ…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø². **Ù‡Ø°Ù‡ Ø§Ù„Ø´Ù‚Ø© Ù…Ø³ØªÙÙŠØ¯Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø³ÙƒÙ†.**" },
        { id: 2, city: "ÙØ§Ø³", name: "Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ - ÙØ§Ø³", price: "520,000", size: "93 Ù…Â²", rooms: 3, baths: 2, kitchen: "Ù…Ø¬Ù‡Ø²Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800", desc: "Ø´Ù‚Ø© ÙØ§Ø®Ø±Ø© Ø¨ÙØ§Ø³ Ø¨Ù…Ø³Ø§Ø­Ø© 93 Ù…ØªØ±ØŒ ØªØµÙ…ÙŠÙ… Ù…Ø¹Ù…Ø§Ø±ÙŠ Ø¹ØµØ±ÙŠ Ù…Ø¹ 3 ØºØ±Ù Ùˆ2 Ø­Ù…Ø§Ù…Ø§Øª ÙˆÙ…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø². **Ù…ÙŠØ²Ø© Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©: Ø§Ù„Ø´Ù‚Ø© Ù…Ø³Ø¬Ù„Ø© Ø¶Ù…Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„ØªÙŠ ØªÙ‚Ø¨Ù„ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±.**" },
        { id: 3, city: "Ø³ÙŠØ¯ÙŠ Ù‚Ø§Ø³Ù…", name: "Ø´Ù‚Ù‚ Ø§Ù„ÙŠØ§Ø³Ù…ÙŠÙ† - Ø³ÙŠØ¯ÙŠ Ù‚Ø§Ø³Ù…", price: "430,000", size: "93 Ù…Â²", rooms: 3, baths: 2, kitchen: "Ù…Ø¬Ù‡Ø²Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„", img: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800", desc: "Ø¹Ø±Ø¶ Ø®Ø§Øµ ÙÙŠ Ø³ÙŠØ¯ÙŠ Ù‚Ø§Ø³Ù…: Ø´Ù‚Ø© 93 Ù…ØªØ± Ø¨Ù€ 3 ØºØ±Ù Ùˆ2 Ø­Ù…Ø§Ù…Ø§Øª. Ø§Ù„Ù…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø² Ø¨Ø§Ù„ÙƒØ§Ù…Ù„. **Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙØ§Ø¯Ø© Ù…Ù† Ø¯Ø¹Ù… Ø§Ù„Ø¯ÙˆÙ„Ø© Ø¹Ù†Ø¯ Ø´Ø±Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø´Ù‚Ø©.**" },
        { id: 4, city: "Ø¹ÙŠÙ† ØªØ§ÙˆØ¬Ø·Ø§Øª", name: "Ø¬ÙˆÙ‡Ø±Ø© ØªØ§ÙˆØ¬Ø·Ø§Øª Ø§Ù„Ø³ÙƒÙ†ÙŠØ©", price: "410,000", size: "93 Ù…Â²", rooms: 3, baths: 2, kitchen: "Ù…Ø¬Ù‡Ø²Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„", img: "https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800", desc: "Ù‡Ø¯ÙˆØ¡ ÙˆØ±Ø§Ø­Ø© ÙÙŠ Ø¹ÙŠÙ† ØªØ§ÙˆØ¬Ø·Ø§Øª. Ø´Ù‚Ø© 93 Ù…ØªØ±ØŒ Ù…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø²ØŒ 3 ØºØ±Ù ÙˆØ§Ø³Ø¹Ø© ÙˆØ­Ù…Ø§Ù…ÙŠÙ†. **Ù†Ø¶Ù…Ù† Ù„Ùƒ Ù‚Ø¨ÙˆÙ„ Ù…Ù„Ù Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø³ÙƒÙ† Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø´Ù‚Ø©.**" }
    ];

    // 3. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ´ØºÙŠÙ„
    function render() {
        document.getElementById('property-list').innerHTML = properties.map(p => `
            <div class="card" onclick="openDetails(${p.id})">
                <img src="${p.img}">
                <div class="card-body">
                    <span class="city-tag">${p.city}</span>
                    <h3 style="margin:5px 0;">${p.name}</h3>
                    <div style="color:var(--gold); font-weight:bold; font-size:18px;">${p.price} Ø¯Ø±Ù‡Ù…</div>
                </div>
            </div>
        `).join('');
    }

    function openDetails(id) {
        const p = properties.find(x => x.id === id);
        document.getElementById('detailsContent').innerHTML = `
            <img src="${p.img}" style="width:100%; border-radius:15px; height:320px; object-fit:cover;">
            <div style="margin-top:20px;">
                <div class="support-badge"><i class="fas fa-check-circle"></i> Ù…Ø³ØªÙÙŠØ¯Ø© Ù…Ù† Ø¯Ø¹Ù… Ø§Ù„Ø³ÙƒÙ†</div>
                <h1>${p.name}</h1>
            </div>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; background:#f9f9f9; padding:20px; border-radius:10px;">
                <div><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø©:</strong> ${p.size}</div>
                <div><strong>Ø§Ù„ØºØ±Ù:</strong> ${p.rooms}</div>
                <div><strong>Ø§Ù„Ø­Ù…Ø§Ù…Ø§Øª:</strong> ${p.baths}</div>
                <div><strong>Ø§Ù„Ù…Ø·Ø¨Ø®:</strong> ${p.kitchen}</div>
            </div>
            <div class="feature-highlight">
                <h4 style="margin:0; color:var(--gold);">ğŸ¯ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø´Ù‚Ø©:</h4>
                <p style="margin-top:10px;">${p.desc}</p>
            </div>
            <button class="main-btn" onclick="requestProp('${p.name}')">Ø­Ø¬Ø² Ù…Ø¹Ø§ÙŠÙ†Ø© ÙˆØ¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨</button>
        `;
        document.getElementById('detailsPage').style.display = 'block';
    }

    // Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
    async function notifyDiscord(title, desc) {
        if(!DISCORD_WEBHOOK.startsWith("http")) return;
        await fetch(DISCORD_WEBHOOK, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ embeds: [{ title: title, description: desc, color: 12951641, timestamp: new Date() }] })
        });
    }

    async function requestProp(name) {
        const u = Parse.User.current();
        if(!u) return openModal('authModal');
        await notifyDiscord("ğŸ¯ Ø·Ù„Ø¨ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯", `Ø§Ù„Ø²Ø¨ÙˆÙ†: ${u.get('fullName')}\nØ§Ù„Ø¹Ù‚Ø§Ø±: ${name}\nØ§Ù„Ù‡Ø§ØªÙ: ${u.get('phone')}`);
        alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.");
    }

    function getLoc() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const url = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                await notifyDiscord("ğŸ“ Ø²Ø§Ø¦Ø± Ø¬Ø¯ÙŠØ¯", `ÙˆØ§ÙÙ‚ Ø§Ù„Ø²Ø§Ø¦Ø± Ø¹Ù„Ù‰ Ù…Ø´Ø§Ø±ÙƒØ© Ù…ÙˆÙ‚Ø¹Ù‡:\n[ÙØªØ­ Ø§Ù„Ø®Ø±ÙŠØ·Ø©](${url})`);
            });
        }
    }

    async function trackVisit() {
        const Visit = Parse.Object.extend("Visits");
        const query = new Parse.Query(Visit);
        try {
            let v = await query.first() || new Visit();
            v.increment("count");
            await v.save();
        } catch(e) {}
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨
    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function closeDetails() { document.getElementById('detailsPage').style.display = 'none'; }

    async function handleSignup() {
        const user = new Parse.User();
        user.set("username", document.getElementById('regEmail').value);
        user.set("email", document.getElementById('regEmail').value);
        user.set("password", document.getElementById('regPass').value);
        user.set("fullName", document.getElementById('regName').value);
        user.set("phone", document.getElementById('regPhone').value);
        try { await user.signUp(); location.reload(); } catch(e) { alert(e.message); }
    }

    window.onload = () => { render(); trackVisit(); getLoc(); };
</script>
</body>
</html>
