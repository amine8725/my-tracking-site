<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZARO REAL ESTATE | Luxury Properties</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>

    <style>
        :root { --gold: #c5a059; --dark: #111; --white: #fff; --gray: #f8f9fa; }
        body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--gray); }
        
        /* Navbar */
        nav { background: var(--dark); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; color: white; position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 24px; font-weight: bold; color: var(--gold); text-decoration: none; }
        .nav-btn { background: var(--gold); border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; color: var(--dark); margin-right: 10px; }
        .admin-link { color: #555; font-size: 12px; cursor: pointer; text-decoration: underline; }

        /* Hero */
        .hero { height: 350px; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=1200'); background-size: cover; display: flex; align-items: center; justify-content: center; color: white; text-align: center; }

        /* Products Grid */
        .container { padding: 40px 5%; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 5px 20px rgba(0,0,0,0.05); transition: 0.3s; }
        .card:hover { transform: translateY(-10px); }
        .card img { width: 100%; height: 220px; object-fit: cover; }
        .card-body { padding: 20px; }
        .price { color: var(--gold); font-size: 22px; font-weight: bold; margin-bottom: 10px; display: block; }
        .buy-btn { background: var(--dark); color: white; border: none; width: 100%; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold; }

        /* Modals (Auth & Admin) */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 2000; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; padding: 30px; border-radius: 15px; width: 100%; max-width: 400px; position: relative; }
        .admin-modal { max-width: 800px; overflow-y: auto; max-height: 80vh; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        
        /* Table */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
        th, td { border: 1px solid #eee; padding: 12px; text-align: right; }
        th { background: var(--dark); color: white; }

        /* WhatsApp */
        .wa-float { position: fixed; bottom: 30px; left: 30px; background: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; text-decoration: none; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 1000; }
    </style>
</head>
<body>

<nav>
    <a href="#" class="logo">AZARO REAL ESTATE</a>
    <div id="user-nav">
        <button class="nav-btn" onclick="openModal('authModal')">Ø¯Ø®ÙˆÙ„ / ØªØ³Ø¬ÙŠÙ„</button>
    </div>
</nav>

<section class="hero">
    <div>
        <h1>Ø§ÙƒØªØ´Ù Ø´Ù‚ØªÙƒ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©</h1>
        <p>Ø¹Ù‚Ø§Ø±Ø§Øª ÙØ§Ø®Ø±Ø© ÙÙŠ Ø£Ø±Ù‚Ù‰ Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ù…ØºØ±Ø¨</p>
    </div>
</section>

<div class="container" id="apartments-list"></div>

<div class="modal" id="authModal">
    <div class="modal-content">
        <span onclick="closeModal('authModal')" style="position:absolute; left:20px; cursor:pointer;">&times;</span>
        <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø³ØªØ«Ù…Ø±</h3>
        <input type="text" id="regName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="email" id="regEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        <input type="password" id="regPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <input type="tel" id="regPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <button class="buy-btn" style="background:var(--gold); color:black" onclick="handleSignup()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</button>
    </div>
</div>

<div class="modal" id="adminModal">
    <div class="modal-content admin-modal">
        <span onclick="closeModal('adminModal')" style="position:absolute; left:20px; cursor:pointer;">&times;</span>
        <h3><i class="fas fa-users-cog"></i> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</h3>
        <table>
            <thead>
                <tr>
                    <th>Ø§Ù„Ø§Ø³Ù…</th>
                    <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                </tr>
            </thead>
            <tbody id="admin-table-body"></tbody>
        </table>
    </div>
</div>

<div style="text-align: center; padding: 20px;">
    <span class="admin-link" onclick="openAdmin()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ ğŸ”</span>
</div>

<a href="https://wa.me/212720822628" class="wa-float"><i class="fab fa-whatsapp"></i></a>

<script>
    // 1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø· (Ø§Ø³ØªØ¨Ø¯Ù„ÙŠ TU8wdbgmuKMHpGp76QmMBIV2281RD6IVhg0NE4uS Ùˆ YOUR_JS_KEY)
    Parse.initialize("TU8wdbgmuKMHpGp76QmMBIV2281RD6IVhg0NE4uS", "3AhKkYYWl0LVZWJQujXoVgSS5qaX76aod3qVBtFK");
    Parse.serverURL = 'https://parseapi.back4app.com/';

    // 2. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ù‚Ù‚
    const apartments = [
        { name: "Ø´Ù‚Ø© Ø±ÙˆÙŠØ§Ù„ - Ø·Ù†Ø¬Ø©", price: "950,000", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=500" },
        { name: "Ø¯ÙˆØ¨Ù„ÙŠÙƒØ³ ÙØ§Ø®Ø± - Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", price: "1,800,000", img: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=500" },
        { name: "Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ù†Ø®ÙŠÙ„ - Ù…Ø±Ø§ÙƒØ´", price: "1,100,000", img: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=500" }
    ];

    function displayApts() {
        document.getElementById('apartments-list').innerHTML = apartments.map(apt => `
            <div class="card">
                <img src="${apt.img}">
                <div class="card-body">
                    <span class="price">${apt.price} Ø¯Ø±Ù‡Ù…</span>
                    <h3>${apt.name}</h3>
                    <button class="buy-btn" onclick="window.open('https://wa.me/212XXXXXXXXX')">Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø²ÙŠØ§Ø±Ø©</button>
                </div>
            </div>
        `).join('');
    }

    // 3. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø­Ø³Ø§Ø¨
    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }

    async function handleSignup() {
        const user = new Parse.User();
        user.set("username", document.getElementById('regEmail').value);
        user.set("email", document.getElementById('regEmail').value);
        user.set("password", document.getElementById('regPass').value);
        user.set("fullName", document.getElementById('regName').value);
        user.set("phone", document.getElementById('regPhone').value);

        try {
            await user.signUp();
            alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„Ùƒ Ø¨Ù†Ø¬Ø§Ø­!");
            closeModal('authModal');
            location.reload();
        } catch (e) { alert("âŒ Ø®Ø·Ø£: " + e.message); }
    }

    // 4. ÙˆØ¸Ø§Ø¦Ù Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    async function openAdmin() {
        const query = new Parse.Query(Parse.User);
        try {
            const users = await query.find();
            document.getElementById('admin-table-body').innerHTML = users.map(u => `
                <tr>
                    <td>${u.get('fullName')}</td>
                    <td>${u.get('phone')}</td>
                    <td>${u.createdAt.toLocaleDateString()}</td>
                </tr>
            `).join('');
            openModal('adminModal');
        } catch (e) { alert("ÙŠØ¬Ø¨ Ø¶Ø¨Ø· Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø£ÙˆÙ„Ø§Ù‹!"); }
    }

    displayApts();
</script>
</body>
</html>
